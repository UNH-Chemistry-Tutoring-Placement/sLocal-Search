module.exports = StudentParser;

var Parser = require('Parser');

function StudentParser(input){
    var data = {};
    
	var p = new Parser(input)
	data.format = Number(p.getSecondPart())
	data.description = p.getSecondPart();
	data.numStudent = p.getSecondPartAsNumber();
	data.students = {};
	var index = 0;
    
	while(index< data.numStudent){
		var student = {};
		student.name = p.getSecondPart();
		student.email = p.getSecondPart();
		student.lecture = p.getSecondPart();
		student.year = p.getSecondPartAsNumber();
		student.sex = p.getSecondPart();
		student.numGoodTimes = p.getSecondPartAsNumber();
		student.goodTimes = [];
		var j = 0;
		while(j<student.numGoodTimes){
			student.goodTimes.push(p.getLine());
			j++;
		}
		var k = 0;
		student.numPossibleTimes = p.getSecondPartAsNumber();
		student.possibleTimes = [];
		while(k<student.numPossibleTimes){
			student.possibleTimes.push(p.getLine());
			k++;
		}
		data.students[student.email] = student;
		index++;
	}
	
	return data;
}
